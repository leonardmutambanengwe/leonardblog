<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>A Year of Pumpkin Prices A regression with Knime | Leonard Mutambanengwe</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="A Year of Pumpkin Prices A regression with Knime" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="KNIME Analytics is a low code platform for analytics, in which visual programming paradigm is implemented through the use of workflows. Nodes representing actions on data are linked, sequentially, as a DAG. A Year of Pumpkins dataset has information about the prices of pumpkins for months in 2016 and 2017, as well as other information including packaging, sizes, type for 13 different cities in the USA." />
<meta property="og:description" content="KNIME Analytics is a low code platform for analytics, in which visual programming paradigm is implemented through the use of workflows. Nodes representing actions on data are linked, sequentially, as a DAG. A Year of Pumpkins dataset has information about the prices of pumpkins for months in 2016 and 2017, as well as other information including packaging, sizes, type for 13 different cities in the USA." />
<link rel="canonical" href="https://leonardmutambanengwe.github.io/leonardblog/2022/01/05/A-Year-of-Pumpkin-Prices-Regression-with-Knime.html" />
<meta property="og:url" content="https://leonardmutambanengwe.github.io/leonardblog/2022/01/05/A-Year-of-Pumpkin-Prices-Regression-with-Knime.html" />
<meta property="og:site_name" content="Leonard Mutambanengwe" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-05T00:00:00-06:00" />
<script type="application/ld+json">
{"headline":"A Year of Pumpkin Prices A regression with Knime","url":"https://leonardmutambanengwe.github.io/leonardblog/2022/01/05/A-Year-of-Pumpkin-Prices-Regression-with-Knime.html","dateModified":"2022-01-05T00:00:00-06:00","datePublished":"2022-01-05T00:00:00-06:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://leonardmutambanengwe.github.io/leonardblog/2022/01/05/A-Year-of-Pumpkin-Prices-Regression-with-Knime.html"},"description":"KNIME Analytics is a low code platform for analytics, in which visual programming paradigm is implemented through the use of workflows. Nodes representing actions on data are linked, sequentially, as a DAG. A Year of Pumpkins dataset has information about the prices of pumpkins for months in 2016 and 2017, as well as other information including packaging, sizes, type for 13 different cities in the USA.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/leonardblog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://leonardmutambanengwe.github.io/leonardblog/feed.xml" title="Leonard Mutambanengwe" /><link rel="shortcut icon" type="image/x-icon" href="/leonardblog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/leonardblog/">Leonard Mutambanengwe</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/leonardblog/about/">About Me</a><a class="page-link" href="/leonardblog/search/">Search</a><a class="page-link" href="/leonardblog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">A Year of Pumpkin Prices A regression with Knime</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-01-05T00:00:00-06:00" itemprop="datePublished">
        Jan 5, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>KNIME Analytics is a low code platform for analytics, in which visual programming paradigm is implemented through the use of workflows. Nodes representing actions on data are linked, sequentially, as a DAG. A Year of Pumpkins dataset has information about the prices of pumpkins for months in 2016 and 2017, as well as other information including packaging, sizes, type for 13 different cities in the USA.</p>

<p>The dataset is actually made up of multiple datasets, each for a separate city. Using the <strong>CSV Reader</strong> node, all 13 files could be read at once. However, because some of the files had more columns, an option to catch the error had to be relaxed.
The columns are as below:</p>

<p><img src="./images/knime1/columns.jpg" alt="" /></p>

<p>The last 4, are not in most of the other csv files, and so had to be removed using the <strong>Column Filter</strong> node. Other columns with no valuable information were also removed, as well acolumnss those with over 40% missing values with <strong>Missing Value Column Filter</strong> node.</p>

<p>Column Date was transformed into datetime, using Pandas. Knime can integrate python (and other languages including R and Java). The date was then used to access, using dt, week, month and week information which might be useful in determining price levels. Also the average price was calculated from low and high for the day.</p>

<p><img src="./images/knime1/py_script.jpg" alt="" /></p>

<p>The linear regression is a base line to benchmark the performance. The data was split 70:30 using the <strong>Partitioning</strong> node, and a <strong>Linear Regression Learner</strong> and <strong>Linear Regression Predictor</strong> were used to train and predict on the test set.
The regression was run on 11 columns.</p>

<p><img src="./images/knime1/results1.jpg" alt="" />
<em>Results of the linear regression, including R-squared for model fit and RMSE for performance.</em></p>

<p>Linear correlation was used to remove corelated features. 2 columns were removed and training and predict done.</p>

<p><img src="./images/knime1/results2.jpg" alt="" /></p>

<p>Removing the correlated features resulted in a slight improvement in the RMSE, falling to 41.293 from 42.04.</p>

<p><img src="./images/knime1/pumpkins_shot.jpg" alt="" />
<em>Whole workflow</em></p>

<p>Other ideas to explore:</p>
<ol>
  <li>H2o regression and tree regression - to explore feature importances</li>
  <li>Regularisation methods for regresssion - LASSO, Ridge</li>
  <li>SVM</li>
  <li>Packaging - there are different packages measurements, see if they can be standardised.</li>
  <li>Visualisations</li>
</ol>

  </div><a class="u-url" href="/leonardblog/2022/01/05/A-Year-of-Pumpkin-Prices-Regression-with-Knime.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/leonardblog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/leonardblog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/leonardblog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/leonardmutambanengwe" target="_blank" title="leonardmutambanengwe"><svg class="svg-icon grey"><use xlink:href="/leonardblog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/LeoLENNY1" target="_blank" title="LeoLENNY1"><svg class="svg-icon grey"><use xlink:href="/leonardblog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
